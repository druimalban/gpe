diff -Nurd pnet.orig/configure.in pnet/configure.in
--- pnet.orig/configure.in	2005-08-17 05:30:09.000000000 +0400
+++ pnet/configure.in	2005-08-30 00:16:18.166767008 +0400
@@ -608,9 +608,6 @@
 csant/Makefile
 clrwrap/Makefile
 coremul/Makefile
-samples/Makefile
-doc/Makefile
-tests/Makefile
 pnet.spec])
 
 dnl Configure libffi and libgc.  We do these manually to avoid
@@ -635,7 +632,8 @@
 			mkdir libffi
 		fi
 		cd "libffi"
-		${CONFIG_SHELL-/bin/sh} ${ffisrcdir}/configure --disable-shared \
+		CUR_DIR=$(pwd)
+		${CUR_DIR}/configure --disable-shared \
 			--enable-multilib=no \
 			--disable-dependency-tracking \
 			--host="${host}" --build="${build}" --target="${target}" \
@@ -647,7 +645,7 @@
 			--localstatedir="${localstatedir}" --libdir="${libdir}/pnet" \
 			--includedir="${includedir}/pnet" \
 			--oldincludedir="${oldincludedir}/pnet" --infodir="${infodir}" \
-			--mandir="${mandir}" --srcdir="${ffisrcdir}" || exit 1
+			--mandir="${mandir}" --srcdir="${CUR_DIR}" || exit 1
 		cd ..
 	fi
 
@@ -656,7 +654,8 @@
 			mkdir libgc
 		fi
 		cd libgc
-		${CONFIG_SHELL-/bin/sh} ${gcsrcdir}/configure \
+		CUR_DIR=$(pwd)
+			${CUR_DIR}/configure \
 			--enable-threads=$THREADS --host="${host}" \
 			--build="${build}" --target="${target}" --disable-fast-install \
 			--prefix="${prefix}" \
@@ -668,7 +667,7 @@
 			--includedir="${includedir}/pnet" \
 			--oldincludedir="${oldincludedir}/pnet" \
 			--infodir="${infodir}" --mandir="${mandir}" \
-			--srcdir="${gcsrcdir}" || exit 1
+			--srcdir="${CUR_DIR}" || exit 1
 		cd ..
 	fi
 fi
diff -Nurd pnet.orig/Makefile.am pnet/Makefile.am
--- pnet.orig/Makefile.am	2005-08-21 19:33:24.000000000 +0400
+++ pnet/Makefile.am	2005-08-29 19:36:05.000000000 +0400
@@ -14,7 +14,7 @@
 
 SUBDIRS = . $(LIBGC_DIR) $(LIBFFI_DIR) include support image dumpasm engine ilasm ildasm \
 		  ilalink ilsize ilnative ilheader ilfind ildd codegen cscc \
-		  resgen ilstrip ilranlib ilgac csdoc csant clrwrap samples doc tests
+		  resgen ilstrip ilranlib ilgac csdoc csant clrwrap
 
 else
 
