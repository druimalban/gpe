#!/bin/sh

module_id() {
    ## used to read from assets, but sometimes assets is corrupted
    # grep "Module ID" /proc/hal/assets | sed "s/.*://"
    echo ' iPAQ' `cat /proc/hal/model`
}

depmod

case $1 in
'start')
	modprobe h3600_hal
	case `module_id` in
		" iPAQ 3100" )	    ARGS="--mono" ;;
		" iPAQ 3600" )	    ARGS="--flip" ;;
		" iPAQ 3700" )	    ARGS="--flip" ;;
		" iPAQ 3800" )	    ;;
		" iPAQ 3900" )	    ARGS="--flip" ;;
		" iPAQ 5400" )	    ;;
	esac
	/usr/bin/gpe-bootsplash $ARGS
	;;
'stop')
;;
*)
esac
