2003-03-15  Philip Blundell  <philb@gnu.org>

	* Version 0.11 released.

2003-03-15  Philip Blundell  <philb@gnu.org>

	* familiar/control1 (Depends): Require libdm0.

	* main.c (do_search): New function.
	(match_for_search): Likewise.
	(create_main): Wire up "search" functionality.

2003-03-15  Philip Blundell  <philb@gnu.org>

	* familiar/control1 (Depends): Require libgpewidget1 0.53.

	* Makefile: Remove GTK1 compatibility.
	(LDFLAGS, CFLAGS): Set depending on $(DEBUG).  Add libdm.

	* structure.c (edit_structure): Remove GTK1 compatibility.  Use
	stock items.  Remove redundant calls to gtk_widget_show.  Set
	policy on scrolled window to AUTOMATIC, AUTOMATIC.

	* editing.c (create_edit): Use GtkDialog.  Remove unnecessary
	Glade remnants.  Use GObject functions.
	(edit_window): Remove redundant gtk_widget_show calls.

	* main.c (my_icons): Remove new, save, properties.
	(edit_person): Use gtk_widget_show_all.
	(edit_contact): Use GtkTreeSelection.
	(delete_contact): Likewise.
	(config_categories_box): Remove GTK1 compatibility code.  Use
	stock items.
	(configure): Use GtkDialog.  Replace many gtk_widget_show calls
	with one gtk_widget_show_all.  Only set size hints, not actual
	window dimensions.  Mark window for migration.  Use GObject signal
	functions. 
	(show_details): Remove check for clist.
	(selection_made): Use GtkTreeSelection.  Don't attempt to handle
	double clicks.
	(update_display): Use GtkListView, etc.
	(main_view_switch_page): New.
	(create_main): Likewise.
	(main): Call libdm_init.  Create list store, etc.  Delete widget
	initialisation now done in create_main.  Use gtk_widget_show_all.

	* adb.glade: Remove "main" window.
	* interface.c (create_main): Delete.
	* interface.h (create_main): Likewise.

	* callbacks.c (on_nbList_switch_page): Delete.
	* callbacks.h (selection_made): Likewise.

2003-03-12  Philip Blundell  <philb@gnu.org>

	* Makefile: Version 0.10 released.

2003-03-12  Philip Blundell  <philb@gnu.org>

	* db.c (db_delete_tag): Use strcasecmp for tags.
	(db_find_tag): Likewise.
	* main.c (store_special_fields): Likewise.

	* db.c (db_get_entries_alpha): Implement in terms of
	db_get_entries.
	(read_name): New.
	(read_one_entry): Look name up with a separate query.
	(db_get_entries): Add error trapping.  Just search the URN table,
	don't assume anything about the tags.

2003-03-09  Philip Blundell  <philb@gnu.org>

	* gpe-contacts.desktop.in: New file.
	* gpe-contacts.desktop: Deleted.

	* callbacks.c, db.c, editing.c, interface.c, main.c, structure.c,
	support.c, callbacks.h, db.h, interface.h, proto.h, structure.h,
	support.h: Moved here from src subdirectory.
	* Makefile: Adjust appropriately.

2003-01-18  Philip Blundell  <philb@gnu.org>

	* Version 0.09 released.

2003-01-11  Philip Blundell  <philb@gnu.org>

	* src/main.c (edit_person): Cope with GtkTextView widgets.
	(config_categories_box): Improve tooltips.

	* src/editing.c (create_edit): Use stock buttons.
	(build_children): Replace GtkText with GtkTextView.  Set vertical
	size to 64.

	* Makefile (GTKCFLAGS): Remove GTK_ENABLE_BROKEN.

2003-01-01  Philip Blundell  <philb@gnu.org>

	* Version 0.08 released.
	
2003-01-01  Philip Blundell  <philb@gnu.org>

	* gpe-contacts.desktop (SingleInstance): Set to true.

	* src/main.c (main): Set icon on main window.
	(configure): Set icon and title on config window.
	* src/editing.c (create_edit): Set icon on editing window.

2002-12-15  Philip Blundell  <philb@gnu.org>

	* gpe-contacts.desktop: New file.
	* Makefile (install): Install it.

2002-12-15  Philip Blundell  <philb@gnu.org>

	* Version 0.07 released.

2002-12-15  Philip Blundell  <philb@gnu.org>

	* src/structure.c (edit_structure): Fix warnings.
	* src/db.c (db_open): Likewise.
	* src/main.c (load_panel_config): Likewise.
	* src/callbacks.c (on_edit_save_clicked): Likewise.
	(retrieve_special_fields): Likewise.

	* adb.glade: Delete unused "detailview" window.

	* src/editing.c (create_edit): Remove unimplemented "Clear"
	button.
	* src/callbacks.c (on_edit_clear_clicked): Delete.
	(structure_add_clicked): Likewise.
	(structure_edit_clicked): Likewise.
	(structure_delete_clicked): Likewise.
	* src/callbacks.h (on_edit_clear_clicked): Likewise.
	(structure_add_clicked): Likewise.
	(structure_edit_clicked): Likewise.
	(structure_delete_clicked): Likewise.
	(on_structure_test): Likewise.
	(on_structure_save_clicked): Likewise.
	
	* contacts-layout.xml: Delete "Photo" page.

2002-12-09  Florian Boor <florian.boor@kernelconcepts.de>

	* adb.glade: Undocumented changes.

	* src/callbacks.c: (on_bDetAdd_clicked): New Function.
	(on_bDetRemove_clicked): New Function.
	(on_clist8_select_row): New Function.
	(on_clist8_unselect_row): New Function.
	(on_setup_destroy): New Function.

	* src/callbacks.h: (on_bDetAdd_clicked): Prototype.
	(on_bDetRemove_clicked): Prototype.
	(on_clist8_select_row): Prototype.
	(on_clist8_unselect_row): Prototype.
	(on_setup_destroy): Prototype.

	* src/db.c (db_get_tag_list): New Function.                        
	(db_get_config_values): New Function.
	(db_add_config_values): New Function.
	(db_delete_config_values): New Function.
	(db_get_config_tag): New Function.
	(db_free_result): New Function.
	(db_open): Added creation and initialisatzion for config table.

	* src/db.h (db_get_tag_list): New Prototype.                       
	(db_get_config_values): New Prototype.
	(db_add_config_values): New Prototype.
	(db_delete_config_values): New Prototype.
	(db_get_config_tag): New Prototype.
	(db_free_result): New Prototype.

	* src/main.c (mainw): Make global.
	(load_panel_config): New Function.
	(create_pageSetup): New Function.
	(update_categories): Added some casts.
	(configure): Added code for new page creation.
	(show_details): Changed for changing content.
	(selection_made): Added code for panel update and fix for some
	warnings).

2002-12-01  Philip Blundell  <philb@gnu.org>

	* src/editing.c (create_edit): Mark "Schedule" button insensitive,
	to discourage further bug reports about it not working.

	* src/main.c (edit_contact): New function.
	(my_icons): Add edit.
	(main): Add "edit" icon to toolbar.
	(selection_made): Remove redundant code.
	
	* icons/entry.xpm, icons/frame.xpm, icons/notebook.xpm: Deleted.
	* icons/entry.png, icons/frame.png, icons/notebook.png: New.
	* src/main.c (my_icons): Adjust filenames accordingly.
	* Makefile (install): Likewise.

2002-12-01  Philip Blundell  <philb@gnu.org>

	* Version 0.06 released.
	
2002-12-01  Philip Blundell  <philb@gnu.org>

	* src/main.c (delete_category): Implement.

	* src/db.c (db_delete_category): New function.
	* src/db.h (db_delete_category): Prototype.

	* src/structure.c (structure_delete_item): Add "are you sure" dialog.

	* familiar/control, familiar/control1: Require libgpewidget 0.30.

	* src/structure.c (edit_structure): Just one column in the CTree.

	* src/main.c (selection_made): Make linkage global.
	* src/callbacks.c (selection_made): Delete.

	* src/Makefile (DIR_PO): Define.
	* src/Makefile.in, src/Makefile.am: Delete autotools cruft.

	* src/main.c (show_details): New function.
	(selection_made): Use it.
	(main): Clear details at startup.

	* src/main.c (update_categories_combo): Delete.
	(update_categories): New function.
	(delete_category): Adjust accordingly.
	(new_category): Likewise.
	(main): Likewise.  Make the GtkSimpleMenu and pack it in place.

	* src/db.c (db_detail_by_uid): Delete.
	(read_detail_data): Likewise.
	(read_detail_fields): Likewise.
	(db_get_categories): Reformat.
	(db_get_entries_alpha): Likewise.

	* adb.glade (main): Delete toolbar.  Add new hbox below main clist
	containing category selector and search filter box.
	(detail_view): Delete image.
	* src/main.c (main): Create a toolbar here and splice it into the
	main window.

2002-12-01  Philip Blundell  <philb@gnu.org>

	Patch from Florian Boor:

	* adb.glade: updated gui

	* src/callbacks.c:
	- added active_chars to hold active selection
	- added some externals
	- on_nbList_switch_page is new handler for page/selection change
	- selection_made now handles editing via doubleclick here
	
	* src/db.c
	- added definition of USE_USQLD to switch
	- usqld usage
	- db_get_entries_alpha selects only entys starting with listed chars
	- read_detail_fields / read detail / db_detail_by_uid data to
	update some details shown in the main form

	* src/db.h
	- db_get_entries_alpha

	* src/interface.c
	- some interface changes, use glade...

	* src/main.c
	- some changes in startup behaviour to use features of changed interface
	- update_display changed call/added freeze for speedup

	* src/structure.c
	- added some . :-)

2002-10-02  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (SUBDIRS): Add m4.
	(ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): Add config.rpath.
	* configure.in (AC_OUTPUT): Add m4/Makefile.

2002-09-23  Colin Marquardt  <colin@marquardt-home.de>

	* src/main.c: Small spelling fixes. Add copyright info to top of
	file.

2002-08-25  Philip Blundell  <philb@gnu.org>

	* Version 0.04 released.

2002-08-25  Philip Blundell  <philb@gnu.org>

	* src/main.c (store_special_fields): Avoid crash when NULL passed
	in or no category widgets exist.

	* evo2gpe.py: New file, courtesy Robert Mibus.

2002-08-24  Philip Blundell  <philb@gnu.org>

	* src/Makefile.am (gpe_contacts_LDADD): Reinstate -L../../libgpewidget.

	* src/editing.c (destroy_category_widgets): New function.
	(create_edit): Store list of category checkboxes.
	* src/db.c (db_set_multi_data): New function.
	(read_entry_data): Use it.
	(db_delete_tag): New function.
	* src/db.h (db_set_multi_data): New prototype.
	(db_delete_tag): Likewise.
	* src/main.c (store_special_fields): New function.
	(edit_person): Call it.
	* src/callbacks.c (retrieve_special_fields): New function.
	(on_edit_save_clicked): Call it.
	
	* src/proto.h: New file.
	* src/main.c: Include it.
	* src/callbacks.c: Likewise.

2002-08-15  Philip Blundell  <philb@gnu.org>

	* src/editing.c: Change path to libgpewidget headers.
	* src/db.c: Likewise.
	* src/main.c: Likewise.
	* src/callbacks.c: Likewise.
	* src/structure.c: Likewise.
	
	* src/editing.c (build_children): Fix typo.

2002-08-12  Colin Marquardt  <colin@marquardt-home.de>

	* po/de.po: New file.
	* configure.in: Added de to ALL_LINGUAS.

2002-08-11  Philip Blundell  <philb@gnu.org>

	* src/structure.c (structure_new_field): Offer list of possible
	tags in a combo box.
	
	* src/structure.c (load_well_known_tags): New function.
	* src/structure.h (load_well_known_tags): Add prototype.
	* src/main.c (main): Call load_well_known_tags.

	* src/structure.c (print_structure_1): Use correct format when
	printing tag.
	
	* well-known-tags: New file.
	* Makefile.am (install-data-local): Install it.

	* src/editing.c (edit_window): Put contents of tab in a scrolled window.

2002-07-31  Colin Marquardt  <colin@marquardt-home.de>

	* familiar/control (Version):  Bump up to version 0.02-1.

	* Makefile.am (install-data-local): Copy pixmap to the right place.

	* familiar/postinst, familiar/postrm: New files.1

	* familiar/control (Version): Bump up to version 0.02.

	* icons/gpe-contacts.png: New file.

	* Makefile.am: Copy the menu, add the Makefile snippet for the
	ipkg/dpkg targets.

	* gpe-contacts.menu: New file.

	* contacts-layout.xml: New structure.

