2003-02-11  Philip Blundell  <philb@gnu.org>

	* Version 0.45 released.

2003-02-02  Philip Blundell  <philb@gnu.org>

	* what.c (gpe_what_init): Add missing underscore to property name.

2003-02-01  Philip Blundell  <philb@gnu.org>

	* question.c (gpe_question_ask): Set line wrapping on.

	* Makefile (clean): Depend on clean-po.
	(LINGUAS): Remove en_AU.

	* po/en_AU.po: Deleted.

	* pixmaps.c (gpe_load_one_icon): Remove redundancy in error message.

	* errorbox.c (do_gpe_error_box): Use stock button.
	* smallbox.c (smallbox_x2): Likewise.
	(smallbox_x): Likewise.

	* debian/control, debian/changelog: Update.

2003-01-27  Philip Blundell  <philb@gnu.org>

	* debian/changelog: Update.
	* debian/control: Likewise.
	* debian/copyright: Likewise.
	* debian/libgpewidget0.dirs, debian/libgpewidget0.files: Removed.
	* debian/libgpewidget1.dirs, debian/libgpewidget1.files: New.

2003-01-26  Philip Blundell  <philb@gnu.org>

	* Makefile (VERSION, CVSBUILD): Define.
	(BUILD): Define.  Use it to find makefile fragments.
	(ipkg, dpkg, upstream): Delete.
	(install-devel): Headers are in gpe/.

2003-01-25  Philip Blundell  <philb@gnu.org>

	* Version 0.44 released.

2003-01-25  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (gtk_date_combo_week_starts_monday): Add
	GTK_CALENDAR_SHOW_HEADING to options.

2003-01-24  Philip Blundell  <philb@gnu.org>

	* pixmaps.c (gpe_set_window_icon): Use gtk_window_set_icon.

2003-01-18  Philip Blundell  <philb@gnu.org>

	* Version 0.43 released.
	
2003-01-18  Philip Blundell  <philb@gnu.org>

	* picturebutton.c (gpe_button_new_from_stock): Remove stray ";"
	after conditional.  Reformat.  Use SMALL_TOOLBAR icons.

2003-01-07  Philip Blundell  <philb@gnu.org>

	* picturebutton.c (gpe_button_new_from_stock): Remove stray debug.

2003-01-07  Damien Tanner  <dctanner@handhelds.org>

	* picturebutton.c (gpe_button_new_from_stock): Avoid mnemonic
	problem.
	
2003-01-07  Philip Blundell  <philb@gnu.org>

	* Version 0.42 released.

2003-01-06  Damien Tanner  <dctanner@handhelds.org>

	* picturebutton.c (gpe_button_new_from_stock): New.
	* gpe/picturebutton.h (gpe_button_new_from_stock): Likewise.
	(GPE_BUTTON_TYPE_ICON, GPE_BUTTON_TYPE_LABEL,
	GPE_BUTTON_TYPE_BOTH): Likewise.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* Makefile (MEMBERS): Remove gtkminifilesel.
	(HEADERS): Remove gtkminifilesel.h.
	* gtkminifilesel.c: Deleted.
	* gpe/gtkminifilesel.h: Likewise.

	* link-warning.h: New file.
	* render.c: Note that gpe_render_icon is obsolete and should not
	be used.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* render.c (gpe_render_icon): Just call gtk_image_new_from_pixbuf.
	(gpe_render_pixmap_alpha): Delete.
	(gpe_render_pixmap): Likewise.
	* gpe/render.h (gpe_render_pixmap): Delete.
	(gpe_render_pixmap_alpha): Likewise.
	* gtkgpepixmap2.c: Delete.
	* Makefile (MEMBERS): Remove gtkgpepixmap2.
	
2003-01-05  Philip Blundell  <philb@gnu.org>

	* Version 0.41 released.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* gpe/gtkdatesel.h (gtk_date_sel_set_month_style): New prototype.
	(GtkDateSelMonthStyle): New enum.
	* gtkdatesel.c 	(struct _GtkDateSel): New member month_style.
	(month_update): Respect selected style.
	(gtk_date_sel_set_month_style): New.
	(make_field): Fix warnings.

2003-01-04  Philip Blundell  <philb@gnu.org>

	* Version 0.40 released.

2003-01-04  Philip Blundell  <philb@gnu.org>

	* tap.c (filter): Don't require release event to have same window
	handle as press event.

2003-01-04  Philip Blundell  <philb@gnu.org>

	* Version 0.39 released.

2003-01-04  Philip Blundell  <philb@gnu.org>

	* tray.c (gpe_system_tray_dock): Remove accidental dependency on
	multihead-aware libgdk-x11.

	* init.c (gpe_application_init): Only do tap'n'hold in stylus mode.

2003-01-04  Philip Blundell  <philb@gnu.org>

	* gpe/what.h: Move to ...
	* what.h: ... here.
	
	* tap.c, tap.h: New files.  Highly experimental code to convert
	tap-and-hold into button 3 clicks.
	* Makefile (MEMBERS): Add tap.
	* init.c (gpe_application_init): Fix warning.  Call tap_hold_init.

2003-01-04  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob, gpe-iconlist.[ch]: Oops, fix it right this time!

2003-01-04  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob: Use the _obvious_ rendering fix pb suggested.
	(ie. back out my last change)

	* gpe-iconlist.[ch]: regenerate.

2003-01-01  Philip Blundell  <philb@gnu.org>

	* Version 0.38 released.

2003-01-01  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (gtk_date_combo_init): When in stylus mode, allow
	a single click to select the day.

	* gtkdatesel.c (week_update): Format week number with %V not %W.

	* what.c (gpe_what_handle_event): Delete.
	(filter_func): Use tip_private if not NULL.

	* gtkdatecombo.c (gtk_date_combo_week_starts_monday): New
	function.
	(update_text, click_calendar, drop_calendar): Reformat.
	* gpe/gtkdatecombo.h (gtk_date_combo_week_starts_monday): Add
	prototype.

	* gtkdatesel.c (make_field): Reduce padding.

2003-01-01  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob: Unbolden on popup (ugly rendering otherwise).

	* gpe-iconlist.c, gpe/gpe-iconlist.h: Regenerate.

2002-12-30  Philip Blundell  <philb@gnu.org>

	* Version 0.37 released.

2002-12-30  Philip Blundell  <philb@gnu.org>

	* gtkminifilesel.c (set_members): Use gpe_try_find_icon.

2002-12-29  Philip Blundell  <philb@gnu.org>

	* Version 0.36 released.

2002-12-29  Philip Blundell  <philb@gnu.org>

	* gtkminifilesel.c (set_members): Remove character set conversion.
	Print error if opendir fails.  Don't free data since CList will do
	that.
	(selection_made): Remove character set conversion.
	(gtk_mini_file_selection_get_filename): Likewise.

	* what.c (filter_func): Check window ID too.

2002-12-28  Philip Blundell  <philb@gnu.org>

	* Version 0.35 released.

2002-12-28  Philip Blundell  <philb@gnu.org>

	* what.c: New implementation.
	* gpetooltips2.c (gpe_tooltips_set_tip): Mark widget for
	interactive help.
	* tray.c: Remove include of <stdio.h>.

2002-12-27  Philip Blundell  <philb@gnu.org>

	* Version 0.34 released.

2002-12-26  Philip Blundell  <philb@gnu.org>

	* Makefile (MEMBERS): Add tray.
	* tray.c: New file.
	* gpe/tray.h: Likewise.
	
2002-12-23  Philip Blundell  <philb@gnu.org>

	* Version 0.33 released.

2002-12-23  Philip Blundell  <philb@gnu.org>

	Merge changes from hacked-iconlist-branch:
	* gpeiconlist.gob (LABEL_YMARGIN, LABEL_XMARGIN, COL_WIDTH):
	Define.
	(il_label_height, il_icon_size, il_row_height, il_col_width): New
	macros.
	(struct ILIcon): New member pb_scaled.
	(GPE:IconList): New members icon_size, label_height.
	(init): Initialise label_height.
	(bg_set_pixmap): New method.
	(_check_icon_size): New function.
	(_title_height): Make argument GPEIconList*.
	(_expose): Use il_col_width and il_row_height in place of
	hardcoded constants.  Use il_label_height rather than calling 
	_title_height repeatedly.  Use prescaled icon from pb_scaled.
	Allow icon width to float and centre pixmap accordingly.
	(_recalc_size): New function, broken out from size_allocate.
	(new_icon): Initialise pb_scaled to NULL.
	(add_item): Call _recalc_size.  Don't force widget redraw.
	(add_item_pixbuf): Likewise.  Call _check_icon_size to rescale
	newly added pixbuf. 
	(clear): Unref scaled pixbuf too.  Call _recalc_size.
	(set_icon_size): New method.
	(_get_rowcol): Remove spurious floating point usage.  Replace
	hard-coded constants with il_col_width / il_row_height as
	appropriate.  Make first argument GPEIconList*.
	(_refresh_containing): Use il_col_width and il_row_height as
	appropriate.  Make first argument GPEIconList*.
	(_button_release): Pass iconlist to _refresh_containing and
	_get_rowcol.  Set mcol and mrow to -1 prior to generating
	"clicked" event.
	(_popup): Don't clear selection here.
	(popup_removed): New method.
	(button_press): Pass iconlist to _refresh_containing and
	_get_rowcol.
	* gpe-iconlist.c, gpe/gpe-iconlist.h: Regenerated.

2002-12-22  Philip Blundell  <philb@gnu.org>

	* gpe/pixmaps.h: Include gtk/gtk.h.

2002-12-22  Philip Blundell  <philb@gnu.org>

	* pixmaps.c (gpe_set_window_icon): New function.
	(gpe_find_icon_pixmap): Don't check return code from
	gpe_find_icon.
	* gpe/pixmaps.h (gpe_set_window_icon): New prototype.

	* what.c (gpe_what_init): Use gpe_try_find_icon rather than
	gpe_find_icon.  On failure, display an error and give up
	initialisation.

	* pixmaps.c (gpe_find_icon): Don't attempt lazy loading.  If the
	icon isn't in the cache, give an error.
	
2002-12-22  Philip Blundell  <philb@gnu.org>

	* pixmaps.c (gpe_try_find_icon): New function.
	(gpe_find_icon): Implement in terms of above.  Display error box
	and halt the program if icon cannot be found.

	* gpe/pixmaps.h (gpe_try_find_icon): New prototype.
	* errorbox.c (do_gpe_error_box): Use gpe_try_find_icon rather than
	gpe_find_icon.  Cope with missing pixmap.
	* picturebutton.c (gpe_picture_button): Likewise.
	* question.c (gpe_question_ask): Likewise.
	
2002-12-22  Philip Blundell  <philb@gnu.org>

	* pixmaps.c (gpe_load_one_icon): Improve error handling.
	(gpe_load_icons): Allow multiple calls.
	(gpe_find_icon): Reformat.

2002-12-20  Philip Blundell  <pb@nexus.co.uk>

	* Version 0.32 released.

2002-12-20  Philip Blundell  <philb@gnu.org>

	* gpeiconlist.gob (_title_height): Unref PangoLayout to avoid
	memory leak.
	(_expose): Likewise.

2002-12-19  Philip Blundell  <philb@gnu.org>

	* gpeiconlist.gob (_get_icon): Remove spurious "*col" term from
	loop condition.

2002-12-18  Philip Blundell  <philb@gnu.org>

	* gpeiconlist.gob: Include <string.h> to fix warning.
	(MAYBE_PRINTF): New macro.  Use it for debug chatter 
	so this can be disabled when not wanted.
	(GPE:IconList): New member flag_embolden.
	(_expose): Don't render selected item in bold if above is false.
	(new_icon): New argument pb.
	(add_item): Pass extra arg to add_item as NULL.  Refresh screen
	after adding new item.
	(add_item_pixbuf): New function.
	(set_embolden): Likewise.
	(clear): Likewise.
	(popup): Don't grab the pointer.
	gpe-iconlist.[ch]: Re-generate.

2002-12-15  Philip Blundell  <philb@gnu.org>

	* gtksimplemenu.c (gtk_simple_menu_append_item): Add missing
	gtk_widget_show.

2002-12-14  Philip Blundell  <philb@gnu.org>

	* gpeiconlist.gob (MAYBE_PRINTF): New macro.  Use it for
	debug chatter so this can be disabled when not wanted.
	(GPE:IconList): New member flag_embolden.
	(_expose): Don't render selected item in bold if above is false.
	(new_icon): New argument pb.
	(add_item): Pass extra arg to add_item as NULL.  Refresh screen
	after adding new item.
	(add_item_pixbuf): New function.
	(set_embolden): Likewise.
	(clear): Likewise.

	* errorbox.c (do_gpe_error_box): Renamed from gpe_error_box.  New
	argument block.  Don't call gtk_main if this is false, instead
	return immediately.
	(gpe_error_box): Call above with block=TRUE.
	(gpe_error_box_nonblocking): Likewise, with block=FALSE.
	* gpe/errorbox.h (gpe_error_box_fmt): Add prototype.	

2002-12-14  Philip Blundell  <philb@gnu.org>

	* po/en_AU.po (Content-Type): Charset is iso-8859-1.

2002-12-04  Philip Blundell  <philb@gnu.org>

	* Version 0.31 released.

2002-12-04  Philip Blundell  <philb@gnu.org>

	* gtkminifilesel.c (set_members): Convert strings to utf8.
	(selection_made): Convert strings to locale encoding.
	(gtk_mini_file_selection_get_filename): Likewise.

2002-12-01  Philip Blundell  <philb@gnu.org>

	* Version 0.30 released.

2002-12-01  Philip Blundell  <philb@gnu.org>

	* gtksimplemenu.c (gtk_simple_menu_flush): New function.
	* gpe/gtksimplemenu.h (gtk_simple_menu_flush): Add prototype.

	* smallbox.c (smallbox_x2): Use picture buttons.  Correctly
	extract entry field from combo box.

2002-11-30  Philip Blundell  <philb@gnu.org>

	* Version 0.29 released.
	
2002-11-30  Philip Blundell  <philb@gnu.org>

	* gtkgpepixmap2.c (gtk_gpe_pixmap_init): Add missing
	initialisations.
	* gtkgpepixmap.c (gtk_gpe_pixmap_init): Likewise.

	* gtksimplemenu.c (gtk_simple_menu_class_init): Rename signal from
	"changed" to "item-changed" to avoid name clash.

2002-11-30  Philip Blundell  <philb@gnu.org>

	* Version 0.28 released.

2002-11-30  Philip Blundell  <philb@gnu.org>

	* Makefile (ipkg): Depend on clean.

	* render.c (gpe_render_icon): Handle SELECTED state too.

	* gtkgpepixmap2.c (gtk_gpe_pixmap_expose): Draw appropriate pixmap.
	(gtk_gpe_pixmap_set_selected): New.
	* gpe/gtkgpepixmap.h (struct _GtkGpePixmap): Add pixmap_selected.
	(gtk_gpe_pixmap_set_selected): Add prototype.
	* gtkgpepixmap.c (gtk_gpe_pixmap_set_selected): New.
	
2002-11-14  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob, gpe-iconlist.c, gpe/gpe-iconlist.h:
	don't send the clicked signal if there is no icon
	don't popup a menu if there is no icon
	unboldify the icon when the popup handler is called

2002-11-14  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob, gpe-iconlist.c, gpe/gpe-iconlist.h:
	update to latest, LOTS of changes:
	 loads more debugging output (for now)
	 use g_object_[set/get]_data not gtk_object_...
	 basic popup menu support

2002-11-12  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob, gpe-iconlist.c, gpe/gpe-iconlist.h:
	don't advance through a NULL pointer (thanks pb), fixes #144

2002-11-10  Philip Blundell  <philb@gnu.org>

	* Makefile (GTK2): Default on.

	* gpe/errorbox.h (gpe_error_box, gpe_perror_box): Argument is const.
	* errorbox.c (gpe_perror_box): Likewise.
	* errorbox.c (gpe_error_box): Likewise.

	* gpe/gtkminifilesel.h (gtk_mini_file_selection_get_directory):
	Add prototype.
	(struct _GtkMiniFileSelection): Member "directory" is const gchar *.
	* gtkminifilesel.c (gtk_mini_file_selection_get_directory): New
	function.
	(set_directory): Pathname is const gchar *.  Use g_strdup_printf
	rather than malloc/strcpy.
	(create_new_directory): Fix warnings.
	(rename_file): Likewise.
	(delete_file): Likewise.  Mark strings for translation.
	(ask_rename_file): Delete spurious "destroy" handler.  Fix
	formatting.  Improve prompts.  Mark strings for translation.
	(ask_delete_file): Likewise.
	(menu_change_directory): Use gchar for strings.
	(set_directory_menu): Likewise.  Fix formatting.
	(gtk_mini_file_selection_init): Likewise.  Zero fs->directory
	earlier.  Use g_get_current_dir rather than get_current_dir_name.
	(ask_rename_file): Fix formatting.
	(set_members): Likewise.
	(kill_window): Likewise.
	(selection_made): Use g_strdup in place of strdup.
	(gtk_mini_file_selection_set_directory): Likewise.
	(enter_struck): Don't strdup directory name.

2002-10-25  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob: Add a LGPL and copyright notice
	* gpe-iconlist.c: regenerate from .gob

2002-10-20  Moray Allan  <moray@handhelds.org>

	* pixmaps.c (gpe_find_icon): Removed unnecessary abort().
	* question.c (gpe_question_ask): Cope with failure to find an icon;
	allow NULL icon to signify that a button should be text-only.

2002-10-13  Philip Blundell  <philb@gnu.org>

	* Version 0.27 released.

2002-10-13  Philip Blundell  <philb@gnu.org>

	* errorbox.c (gpe_error_box): Set line wrap on when GTK2 is in use.

	* po/en_AU.po: New file.
	* Makefile (LINGUAS): Add en_AU.

2002-10-13  Robert Mibus  <mibus@handhelds.org>

	* gpeiconlist.gob: add gob source for the GPEIconList widget

	* gpe-iconlist.c: add generated C source

	* gpe/gpe-iconlist.h.: add generated header

	* Makefile: build iconlist files from .gob when needed;
	add gpe-iconlist.o to OBJS

2002-10-06  Philip Blundell  <philb@gnu.org>

	* smallbox.c (smallbox_x): Use picture buttons.

2002-09-30  Philip Blundell  <philb@gnu.org>

	* Version 0.26 released.

2002-09-30  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (gtk_date_combo_class_init): Don't override
	destroy method.
	(gtk_date_combo_destroy): Delete.
	(gtk_date_combo_init): Don't gtk_widget_ref (calw).

2002-09-17  Colin Marquardt  <colin@marquardt-home.de>

	* Makefile (HEADERS): Add "spacing.h".
	(MEMBERS): Add "spacing".

	* spacing.c: New file containing the gpe_get_* accessor functions.

	* gpe/spacing.h: New file containing the prototypes for the
	gpe_get_* functions.

2002-09-14  Philip Blundell  <philb@gnu.org>

	* Version 0.24 released.

2002-09-12  Pierre Tardy  <tardyp@free.fr>

	* gtkminifilesel.c (gtk_mini_file_selection_set_directory): New
	function.
	* gpe/gtkminifilesel.h (gtk_mini_file_selection_set_directory):
	Add prototype.

2002-09-08  Philip Blundell  <philb@gnu.org>

	* gpe/gtksimplemenu.h: New file.
	* gtksimplemenu.c: Likewise.
	* Makefile (MEMBERS): Add gtksimplemenu.

2002-09-08  Robert Mibus  <mibus@handhelds.org>

	* question.[ch]: Fix bug #85 (dc's mis-commit ;-)

2002-09-07  Colin Marquardt  <colin@marquardt-home.de>

	* gtkrc: Add gpe_labels style. This is just black for now, until
	we decide on a nice style (if at all).

2002-09-01  Philip Blundell  <philb@gnu.org>

	* Version 0.23 released.
	
2002-09-01  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (gtk_date_combo_clear): Fix warning.

2002-09-05  Colin Marquardt  <colin@marquardt-home.de>

	* gtkrc: Removed gpe_username style.

	* init.c (gpe_application_init): Move gtk_rc_add_default_file()
	calls before gtk_init() since they have no effect otherwise.
 
	* gtkrc: Removed the gpe-ownerinfo bg image.
	New style 'gpe_ownerinfo_labels': give labels like "Name",
	"E-Mail" etc. a special style.

2002-08-29  Colin Marquardt  <colin@marquardt-home.de>

	* gtkrc: Add some info about font specs in pixels vs. points.

2002-08-26  Pierre Tardy  <tardyp@free.fr>

        * errorbox.c (gpe_error_box): the dialog acts now like a proper dialog.
        * question.c (gpe_question_ask): fixed a memory leak where the
	fake window will never be freed.

2002-08-25  Luc Pionchon <luc.pionchon@welho.com>

	* about.c: scale down to 48x48 gpe_logo; and support for app_icon on window

2002-08-25  Philip Blundell  <philb@gnu.org>

	* Version 0.22 released.

2002-08-25  Philip Blundell  <philb@gnu.org>

	* gtkdatesel.c (gtk_date_sel_init): Initialise day_clamped correctly.

2002-08-24  Philip Blundell  <philb@gnu.org>

	* Version 0.21 released.

2002-08-24  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (gtk_date_combo_clear): New function.
	(gtk_date_combo_init): Set combo->set to TRUE.
	(click_calendar): Likewise.
	* gpe/gtkdatecombo.h (gtk_date_combo_clear): Add prototype.
	(struct _GtkDateCombo): New member "set".

2002-08-23  Philip Blundell  <philb@gnu.org>

	* render.c (gpe_render_pixmap_alpha): Renamed from
	gpe_render_pixmap.  New argument "overall_alpha".  Use background
	colour for fully transparent regions.
	(gpe_render_pixmap): Implement in terms of above.
	* gpe/render.h (gpe_render_pixmap_alpha): Add prototype.

2002-08-22  Philip Blundell  <philb@gnu.org>

	* Version 0.20 released.

2002-08-23  Philip Blundell  <philb@gnu.org>

	* gtkdatecombo.c (click_calendar): Hide combo->calw, not the
	calendar itself.  Note that the calendar is not open.

2002-08-23  Joe McCarthy  <mccarthy@engrng.pitt.edu>

	* gtkdatesel.c (gtk_date_sel_set_time): emit changed signal.

2002-08-22  Philip Blundell  <philb@gnu.org>

	* Version 0.18 released.

2002-08-22  Philip Blundell  <philb@gnu.org>

	* gtkdatesel.c (make_field): Don't show the buttons.

2002-08-20  Philip Blundell  <philb@gnu.org>

	* Version 0.17 released.

2002-08-20  Philip Blundell  <philb@gnu.org>

	* gtkdatesel.c (make_field): Show the arrows.
	* errorbox.c (gpe_error_box): Always print errors to stderr.

2002-08-19  Philip Blundell  <philb@gnu.org>

	* Version 0.16 released.

2002-08-19  Philip Blundell  <philb@gnu.org>

	* init.c (gpe_application_init): Call gtk_init before other gtk
	functions.  Optimise a bit.  Avoid creating .gpe if home dir is
	unset or the root directory.  Avoid memory leaks when returning
	failure.  Improve error messages.
	
	* Makefile (ipkg): Force debug off.
	(install): Don't ship gtkrc in gtk2 package.

	* gtkdatesel.c (gtk_date_sel_init): Create all widgets unconditionally.

2002-08-18  Colin Marquardt  <colin@marquardt-home.de>

	* pixmaps.c (gpe_load_one_icon): Add linebreak before icon name in
	error message.

2002-08-17  Pierre Tardy  <tardyp@free.fr>

	* init.c (gpe-init):  fixed the FIXME,when checking/creating ~/.gpe

2002-08-12  Philip Blundell  <philb@gnu.org>

	* Version 0.15 released.

2002-08-12  Philip Blundell  <philb@gnu.org>

	* gtkminifilesel.c (button_pressed): Fix return code.
	(button_released): Likewise.

	* Makefile: Only build "about" for GTK 1.
	(CPPFLAGS): Search ./gpe for headers.
	(update-po): Delete, replaced by Makefile.translation.

2002-08-11  Philip Blundell  <philb@gnu.org>

	* smallbox.h (struct box_desc2): New.
	(smallbox_x2): New prototype.
	* smallbox.c (make_combo): New function.
	(smallbox_x2): Likewise.

	* gtkminifilesel.c (menu_timeout_id): Don't initialise explicitly.
	(rename_file): Reformat slightly.  Use gpe_perror_box.
	(create_new_directory): Likewise.  Fix memory leak.  Make new
	directory with mode 777.
	(popup_menu_activate): Reformat slightly.  Mark strings for
	translation.  Remove unused variables.
	(popup_menu_later): Delete dead assignment.
	(popup_menu_cancel): Reformat "if" statement.
	(selection_made): Don't refer to widget after emitting COMPLETED
	signal, in case it was destroyed.
	(ask_delete_file): Correct window title.  Mark strings for
	translation.  Reformat slightly.
	(ask_rename_file): Grab focus into entry widget.  Mark strings for
	translation.

2002-08-05  Damien Tanner <dc@magenet.com>

	* gtkminifilesel.c: Add tap-n-hold
	* about.[ch]: New module
	* question.[ch]: New module (Thanks to mibus)

2002-08-06  Colin Marquardt  <colin@marquardt-home.de>

	* gtkrc: Add gpe-ownerinfo background image.

2002-08-05  Philip Blundell  <philb@gnu.org>

	* familiar/control1: New file.
	* Makefile (ipkg): Use it when building for GTK 2.

2002-08-04  Philip Blundell  <philb@gnu.org>

	* gtkdatesel.c: Rewrite using label and button widgets.
	* gtkdatesel.h (GtkDateSelMode): New enum.
	(gtk_date_sel_new): Argument is GtkDateSelMode.

	* render.c (gpe_render_pixmap): Correct alpha in composited image.

	* Makefile (SONAME): Use libgpewidget.so.1 if building for GTK 2.
	(CFLAGS, LDFLAGS): Conditionalise on GTK version.
	(libgpewidget.a): New target.
	(MEMBERS): Delete gpedialog, gtksmallentry, nocursor.  Build
	appropriate versions of gtkgpepixmap and gpetooltips for GTK in
	use.

	* gpedialog.c: Deleted.
	* gtksmallentry.c: Likewise.
	* nocursor.c: Likewise.

2002-08-03  Philip Blundell  <philb@gnu.org>

	* gtkgpepixmap.h (gtk_gpe_pixmap_set_build_insensitive): Second
	argument is gboolean.
	* gtkgpepixmap.c (gtk_gpe_pixmap_set_build_insensitive): Likewise.
	* gtkgpepixmap2.c: New file.

	* dirbrowser.c (gpe_create_dir_browser): Use GTK_WINDOW_TOPLEVEL
	instead of GTK_WINDOW_DIALOG.
	* gpetooltips2.c: New file.

	* pixmaps.c (gpe_load_one_icon): Add conditionals for GTK 2.
	* pixmaps.h: Include gdk.h.
	* gtkdatecombo.c (gtk_date_combo_get_type): Correct type of return
	value.
	* gtkminifilesel.c (gtk_mini_file_selection_get_type): Likewise,
	(gtk_mini_file_selection_class_init): Add conditionals for GTK 2.

2002-07-25  Colin Marquardt  <colin@marquardt-home.de>

	* errorbox.c (gpe_perror_box): Add line break so that we have a
	better chance of seeing the whole string.

2002-07-21  Colin Marquardt  <colin@marquardt-home.de>

	* gtkrc: Remove boldness (and thus explicit setting of the font)
	from style gpe_login_result.

2002-07-21  Philip Blundell  <philb@gnu.org>

	* Version 0.14 released.
	
2002-07-21  Philip Blundell  <philb@gnu.org>

	* init.c (gpe_application_init): Avoid free of uninitialised
	pointer.  Fix memory leak when mkdir fails.

	* gtkgpepixmap.c (gtk_gpe_pixmap_set_active): New function.
	(gtk_gpe_pixmap_expose): Draw active pixmap if appropriate.
	* gtkgpepixmap.h (gtk_gpe_pixmap_set_active): Add prototype.
	(struct _GtkGpePixmap): Add pixmap_active.
	* render.c (gpe_render_icon): Render ACTIVE state too.

2002-07-20  Philip Blundell  <philb@gnu.org>

	* Version 0.13 released

2002-07-20  Philip Blundell  <philb@gnu.org>

	* init.c (gpe_application_init): Don't attempt to create ~/.gpe when
	HOME not set.

2002-07-20  Colin Marquardt  <colin@marquardt-home.de>

	* init.c (gpe_application_init): Free user_gtkrc_file.

	* gtkrc: Rename gpe_login_incorrect to gpe_login_result.

	* init.c (gpe_application_init): Fix user gtkrc file.

	* Makefile: Install gtkrc file.

	* init.c (gpe_application_init): Add default resource files, doesn't work yet.

2002-07-17  Philip Blundell  <pb@nexus.co.uk>

	* Version 0.12 released

2002-07-17  Philip Blundell  <pb@nexus.co.uk>

	* dirbrowser.c (gpe_create_dir_browser): Unify message text.
	* po/libgpewidget.pot: New.

2002-07-15  Philip Blundell  <philb@gnu.org>

	* stylus-mode.c: Deleted.

2002-07-13  Philip Blundell  <philb@gnu.org>

	* Version 0.11 released

2002-07-13  Philip Blundell  <philb@gnu.org>

	* Makefile (HEADERS): Remove what.h

	* pixmaps.c (gpe_load_icons): Return FALSE if any icons failed to
	load, rather than calling exit.

	* what.c (close_clicked): Remove spurious argument.
	(gpe_what_init): Set style[GTK_STATE_PRELIGHT] too.
	(do_widget): Display private text too, if it's different from the
	normal tip.
	(gpe_what_init): Create second label and pack it into a vbox.

2002-07-13  Philip Blundell  <philb@gnu.org>

	* init.c (gpe_application_init): Call gpe_what_init.
	* what.c (what_init): Rename to gpe_what_init; replace
	with dummy function that does nothing.
	* what.h (what_init): Rename prototype appropriately.
	
2002-07-11  Philip Blundell  <philb@gnu.org>

	* Makefile (MEMBERS): Add screensize, gpedialog.
	* screensize.c: New file.
	* gpedialog.c: New file.

2002-07-10  Philip Blundell  <philb@gnu.org>

	* Makefile (HEADERS): Add picturebutton.h, dammit.

2002-07-10  Philip Blundell  <philb@gnu.org>

	* Makefile (HEADERS): Add what.h, stylus.h

2002-07-10  Philip Blundell  <philb@gnu.org>

	* debian/rules (build): Set PREFIX=/usr
	* debian/control: Add more build-depends
	
2002-07-09  Philip Blundell  <philb@gnu.org>

	* Version 0.10 released.

2002-07-09  Philip Blundell  <philb@gnu.org>

	* nocursor.c (gdk_window_set_cursor): Remove stray debugging.

2002-07-09  Philip Blundell  <philb@gnu.org>

	* Version 0.09 released.

2002-07-09  Philip Blundell  <philb@gnu.org>

	* gpetooltips.c: New file.
	* Makefile (MEMBERS): Add gpetooltips.

	* stylus-mode.c: New file.

	* Makefile (MEMBERS): Add stylus, nocursor.

	* nocursor.c: New file.
	* stylus.c, stylus.h: Likewise.

2002-06-22  Philip Blundell  <philb@gnu.org>

	* gtkminifilesel.c (gtk_mini_file_selection_get_filename): Don't
	append a slash to directory name if it was "/".
	(enter_struck): New function.
	(gtk_mini_file_selection_init): Call it when user presses RETURN.
	(set_members): Omit anything starting with '.'.
	(selection_made): Handle "/" directory specially.  Put focus back
	in entry widget.

2002-06-21  Philip Blundell  <pb@debian.org>

	* render.c (gpe_render_pixmap): Render with no alpha if passed
	NULL bgcol.
	(gpe_render_icon): Tolerate NULL style.  Abort on NULL pixbuf.

2002-06-21  Philip Blundell  <pb@debian.org>

	* Makefile (clean): Remove $(DEPS) too.

2002-06-21  Philip Blundell  <pb@debian.org>

	* Version 0.08 released.

2002-06-20  Philip Blundell  <pb@debian.org>

	* Makefile (MEMBERS): Add what.
	* what.c: New file.
	* what.h: Likewise.

2002-06-20  Philip Blundell  <pb@debian.org>

	* errorbox.c (gpe_error_box): Remove call to gpe_load_icons.

	* pixmaps.c (gpe_load_icons): Abort if called more than once.

2002-06-20  Philip Blundell  <pb@debian.org>

	* picturebutton.c (gpe_picture_button): Tweak packing so that icon
	and text stay close together.

	* errorbox.c (gpe_error_box): Realize window before creating
	picture button.

	* gtkminifilesel.c (menu_change_directory): Fix warning.
	(gtk_mini_file_selection_size_request): Likewise.
	* picturebutton.c (gpe_picture_button): Likewise.

	* init.c (gpe_application_init): Test for existence of $HOME before
	attempting to create ~/.gpe.

	* pixmaps.c (gpe_load_pixmaps, gpe_find_pixmap): Deleted.
	(gpe_load_one_icon): New function, broken out from...
	(gpe_load_icons): ... here.  Tolerate NULL filename, just use
	the short name in that case.
	(gpe_find_icon): Attempt lazy loading of images if lookup fails.
	* pixmaps.h (gpe_load_pixmaps, gpe_find_pixmap, struct pix): Deleted.

2002-06-19  Philip Blundell <pb@nexus.co.uk>

	* Version 0.07 released.

2002-06-18  Philip Blundell  <pb@debian.org>

	* picturebutton.c (gpe_picture_button): Omit label if text is NULL.

2002-06-18  Moray Allan  <moray@sermisy.org>

	* errorbox.c (gpe_error_box): Add a test in case we're already
	trying to bring up an error box (if so, print to stderr instead).

2002-06-17  Philip Blundell  <pb@debian.org>

	* gtkminifilesel.c (gtk_mini_file_selection_init): Use picture 
	buttons.

2002-06-17  Philip Blundell  <pb@debian.org>

	* render.c (gpe_render_pixmap): Tweak for better code generation.
	Use high 8 bits of GdkColor information.
	(gpe_render_icon): Don't render prelight if it would be the same
	as the normal pixmap.

	* picturebutton.c (gpe_picture_button): Add padding around label.

2002-06-16  Philip Blundell  <pb@debian.org>

	* Makefile (MEMBERS): Add picturebutton.
	* picturebutton.h: New file.
	* picturebutton.c: Likewise.

2002-06-16  Philip Blundell  <pb@debian.org>

	* render.c (gpe_render_icon): Use GtkGpePixmap in place of GtkPixmap.

	* gtkgpepixmap.h (GTK_TYPE_GPE_PIXMAP): Correct definition.
	* gtkgpepixmap.h: Replace GTK_IS_PIXMAP with GTK_IS_GPE_PIXMAP.

2002-06-16  Philip Blundell  <pb@debian.org>

	* Makefile (MEMBERS): Add gtkgpepixmap.
	* gtkgpepixmap.c: New file.
	* gtkgpepixmap.h: Likewise.

	* errorbox.c: Use dgettext not gettext.
	* gtkminifilesel.c: Likewise.
	* pixmaps.c: Likewise.
	* smallbox.c: Likewise.

	* pixmaps.c (gpe_load_icons): New function.
	(gpe_find_icon): Likewise.
	(gpe_find_icon_pixmap): Likewise.
	* pixmaps.h (struct gpe_icon): New.
	(gpe_load_icons): New prototype.
	(gpe_find_icon): Likewise.
	(gpe_find_icon_pixmap): Likewise.

2002-06-16  Philip Blundell  <pb@debian.org>

	* Makefile (install-devel, upstream, dpkg): New rules.
	(clean): Remove libgpewidget.so symlink.
	(ipkg): Expect files in familiar subdir.
	(PREFIX): Default to /usr/local.
	(PACKAGE, HEADERS): Define.
	(install): Use $(PREFIX).
	* control, postinst: Moved to...
	* familiar/control, familiar/postinst: ... here.
	* debian/changelog, debian/control, debian/dirs, debian/docs, 
	debian/libgpewidget-dev.dirs, debian/libgpewidget-dev.files, 
	debian/libgpewidget0.dirs, debian/libgpewidget0.files, 
	debian/postinst, debian/postrm, debian/rules: New files.

2002-06-16  Philip Blundell  <pb@debian.org>

	* errorbox.c: Add missing #include <stdio.h>.
	* control (Version): Set to 0.05

2002-06-16  Luis Oliveira  <luismbo@netcabo.pt>

       * errorbox.c (gpe_error_box): Set label padding to 4 when packing.

2002-06-16  Philip Blundell  <pb@debian.org>

	* errorbox.c (gpe_error_box_fmt): New function.
	* errorbox.h (gpe_error_box_fmt): Add prototype.
	Patch from Luis Oliveira <luismbo@netcabo.pt>

2002-06-15  Philip Blundell  <pb@debian.org>

	* errorbox.c (gpe_error_box): Use gpe_render_icon to alpha-blend
	pixmap.
	* render.c (gpe_render_icon): Correct alpha calculation.

2002-06-15  Philip Blundell  <pb@debian.org>

	* render.c: New file.
	* render.h: Likewise.
	* Makefile (MEMBERS): Add render.

	* init.c (gpe_application_init): Don't call gdk_imlib_init.
	* pixmaps.c: Use gdk_pixbuf rather than gdk_imlib.
	* errorbox.c: Likewise.
	* Makefile: Add gdk-pixbuf flags to compile and link.
	
