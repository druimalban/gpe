2003-02-15  Phil Blundell <pb@handhelds.org>

	* Makefile (LINGUAS): Add de.

2003-02-14  Phil Blundell <pb@handhelds.org>

	* Version 0.32 released.

2003-01-29  Luis Oliveira  <luis@handhelds.org>

	* Makefile (CFLAGS): Add ../libtododb to include path.
	(MEMBERS): Removed todo-sql and old-db.
	(gpe-todo): Link against libtododb.
	* configure.c: Make use of libtododb (add todo_db_ prefix to 
	new_item(), push_item(), delete_item(), new_category() and
	del_category(). Also make use of todo_db_get_{categories|list}_list()
	instead of the old global vars.
	* list-ui.c: Likewise.
	* main.c: Likewise.
	* todo-ui.c: Likewise.
	* todo.h: Removed structs/functions/enums that are now in libtododb.
	* old-db.c: Removed file (now in libtododb).
	* todo-sql.c: Likewise.
	* todo-sqd.h: Likewise.

2003-01-18  Philip Blundell  <philb@gnu.org>

	* Version 0.31 released.

2003-01-18  Philip Blundell  <philb@gnu.org>

	* todo-sql.c (category_find_by_id): New function.
	(item_data_callback): Use it.
	(push_item): Save category ID, not pointer.

	* configure.c: Fix warnings.
	
	* configure.c (configure): Use stock icons.
	(new_category_box): Likewise.
	* todo-ui.c (edit_item): Likewise.
	* list-ui.c (top_level): Likewise.
	* main.c (my_icons): Remove now-redundant entries.

	* list-ui.c (top_level): Select for release events also.
	(draw_click_event): Only act on button 1.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* Makefile (GTKCFLAGS): Remove -DGTK_ENABLE_BROKEN.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* Version 0.30 released.

2003-01-05  Philip Blundell  <philb@gnu.org>

	* familiar/control1 (Depends): Add libdm0.

	* Makefile (gpe-todo): Link with -ldm.
	(CFLAGS): Add -I../libdm.

	* todo-ui.c (edit_item, click_ok): Replace GtkText with
	GtkTextBuffer.

	* todo-ui.c (edit_item): Mark window for migration.
	* configure.c (configure): Likewise.
	(new_category_box): Likewise.
	* main.c (open_window): Likewise.
	(main): Call libdm_init.

	* list-ui.c (item_layout): Delete.
	(draw_item): Create a new layout each time, and unref it
	afterwards.

2003-01-01  Philip Blundell  <philb@gnu.org>

	* gpe-todo.desktop (SingleInstance): Set to true.

	* configure.c (new_category_box): Set title and icon on
	configuration window.

2002-12-24  Philip Blundell  <pb@nexus.co.uk>

	* Version 0.29 released.

2002-12-24  Philip Blundell  <philb@gnu.org>

	* todo-ui.c (edit_item): Handle categories correctly when creating
	new item.

2002-12-24  Philip Blundell  <pb@nexus.co.uk>

	* Version 0.28 released.

2002-12-24  Philip Blundell  <pb@nexus.co.uk>

	* familiar/control1 (Depends): Require libgpewidget 0.33.

2002-12-22  Philip Blundell  <philb@gnu.org>

	* main.c (set_window_icon): Delete.
	(open_window): Use gpe_set_window_icon instead.
	* todo-ui.c (change_categories): Likewise.
	(edit_item): Likewise.
	* todo.h (set_window_icon): Delete prototype.

2002-12-22  Philip Blundell  <philb@gnu.org>

	* main.c (my_icons): Add clean.
	(set_window_icon): New function.
	(open_window): Call it.  Set default window size to 240x320.
	* list-ui.c (category_matches): Delete.
	(refresh_items): Categories list contains pointers, not ID
	values.  Use g_slist_find in place of category_matches.	
	* todo.h (set_window_icon): Add prototype.
	(category_matches): Delete.
	* todo-ui.c (struct edit_todo): Delete category_map.  Add
	selected_categories, category_label.
	(destroy_user_data): Remove references to deleted fields.  Do a
	shallow free of selected_categories.
	(click_ok): Just copy selected category list from edit struct.
	(build_categories_string): New function.
	(categories_cancel: Likewise.
	(categories_ok): Likewise.
	(change_categories): Likewise.
	(edit_item): Replace frame containing list of categories with a
	label and a button.  Set icon on dialog window.

2002-12-07  Philip Blundell  <philb@gnu.org>

	* gpe-todo.desktop: New file.
	* Makefile (install): Install it.
	Patch from Matthew Allum <breakfast@10.am>

2002-11-30  Philip Blundell  <philb@gnu.org>

	* list-ui.c (categories_menu): Replace "*all*" with "All items".

	* Makefile (LINGUAS): Define.

2002-11-28  Philip Blundell  <philb@gnu.org>

	* Version 0.27 released.

2002-11-28  Philip Blundell  <philb@gnu.org>

	* todo-sql.c (item_data_callback): Handle DUE tag.

	* Makefile (GTK2): Default on.
	
2002-11-25  Philip Blundell  <philb@gnu.org>

	* todo-ui.c (edit_item): New argument initial_category.
	* todo.h (edit_item): Keep prototype in step.
	* list-ui.c: Update calls to above function.
	(draw_click_event): Open item on single not double click.
	Patch from Michael Smith <michael@hurts.ca>
	
2002-10-06  Philip Blundell  <philb@gnu.org>

	* main.c (open_window): Set window title.

2002-10-06  Philip Blundell  <philb@gnu.org>

	* Version 0.26 released.

2002-10-06  Philip Blundell  <philb@gnu.org>

	* familiar/control1 (Provides, Replaces): Add.

	* list-ui.c (draw_item): Cope with NULL summary.
	* todo-sql.c (push_item): Only write out summary and description
	if not NULL.

	* gpe-todo.png: Revert Colin's last change.

2002-10-03  Colin Marquardt  <colin@marquardt-home.de>

	* gpe-todo.png: New icon from
	http://art.gnome.org/show_icons.php?type=other&page=14.
        The old one really looked out of place.

2002-09-30  Philip Blundell  <philb@gnu.org>

	* familiar/control (Depends): Demand gpe-icons 0.15 or later.

	* todo-ui.c (click_cancel): Remove unnecessary gtk_widget_hide.
	(click_delete): Likewise.
	(click_ok): Likewise.
	(edit_item): Fix warnings with GTK 2.

	* main.c (my_icons): Add tick.
	* list-ui.c (draw_expose_event): Fix warnings with GTK 2.
	Remove references to tick.xpm and box.xpm.  Pass extra parameter
	"event" to draw_item.  Obtain reference to "tick" icon.
	(draw_item): New parameter "event".  Rewrite handling of
	completion checkbox.  Support Pango properly.
	* tick.xpm, box.xpm: Deleted.

2002-09-29  Philip Blundell  <philb@gnu.org>

	* todo-sql.c: Don't define _XOPEN_SOURCE here.
	(converted_category): Reformat.  Fix warning.
	* Makefile (CPPFLAGS): Add -D_GNU_SOURCE.

2002-09-29  Philip Blundell  <philb@gnu.org>

	* Version 0.23 released.

2002-09-29  Philip Blundell  <philb@gnu.org>

	* main.c (hide): Deleted.
	(my_icons): Add question.  Remove redundant strings.
	* todo.h (hide): Likewise.
	* list-ui.c (draw_item): New function, broken out of
	draw_expose_event.
	(draw_expose_event): Use i->was_complete to determine sort order.
	Remove unused variables.
	(show_hide_completed): Just update i->was_complete for each item.
	(purge_completed): Ask user for confirmation.
	(top_level): Update tooltip for "hide" icon.
	* old-db.c (list_callback0): Remove unnecessary return.
	(item_callback0): Reformat.
	(convert_old_db): Remove useless error handling.
	(converted_item, converted_category): Delete prototypes.
	* todo.h (struct todo_item): Add "was_complete".
	(push_item): Return gboolean.
	* todo-sql.h (converted_item, converted_category): New prototypes.
	* todo-sql.c (converted_item): Return gboolean.
	(push_item): Likewise.
	(item_callback): Set was_complete if appropriate.

2002-09-05  Joseph J. McCarthy  <mccarthy@engrng.pitt.edu>

	* todo-sql.c : add "converted" subroutines to add stuff from old schema

	* todo-sql.c : implemented upgrade from old schema and versioning table

	* old-db.c : add this to do the upgrade

2002-09-01  Philip Blundell  <philb@gnu.org>

	* Version 0.21 released.
	
2002-09-01  Philip Blundell  <philb@gnu.org>

	* list-ui.c (refresh_items): Set size of drawing area.

2002-08-25  Philip Blundell  <philb@gnu.org>

	* Makefile: Use Makefile.translation.
	* po/Makefile: Deleted.

2002-08-23  Philip Blundell  <philb@gnu.org>

	* todo.h: Add support for GTK 2.
	* Makefile: Likewise.	
	* list-ui.c: Likewise.
	* configure.c: Likewise.
	* todo-ui.c: Likewise.	

	* configure.c: Fix inclusion of libgpewidget headers.
	* main.c: Likewise.
	* todo-ui.c: Likewise.
	* list-ui.c: Likewise.
	* todo-sql.c: Likewise.

2002-08-03  Philip Blundell  <philb@gnu.org>

	* list-ui.c (new_todo_item): Use edit_item.  Remove use of
	curr_list.
	(set_cur_list): Delete.
	(set_category): New.
	(ui_del_list): Delete.
	(ui_create_new_list): Likewise.
	(categories_menu): New.
	(close_window, close_configure, configure): Delete.
	(new_todo_item): New.
	(draw_expose_event): Use display_items.
	(draw_click_event): Likewise.  Ignore double clicks on checkbox
	icon.
	(category_matches): New.
	(refresh_items): New.
	(top_level): Replace lists with categories.  Tweak tooltips.

	* Makefile (ipkg): Delete; replaced by Makefile.dpkg_ipkg.
	
	* main.c (main): Don't force window size.

	* configure.c: New file.
	* Makefile (MEMBERS): Add configure.

	* todo-sql.c (new_category_internal): New.
	(new_category): Likewise.
	(del_category): Likewise.
	(item_data_callback): Likewise.
	(item_callback): Use new database format.
	(push_item): Likewise.
	(sql_start): Likewise.  Don't create ~/.gpe.
	(category_callback): New.
	(new_item): Likewise.
	(sql_add_list): Delete.
	(del_list): Likewise.
	(add_item_sql): Likewise.
	(add_new_item): Likewise.
	(new_unique_id): Likewise.
	(add_new_item_internal): Likewise.
	(delete_item): Use new database format.  Take only one argument.
	
	* todo-ui.c (edit_item): Renamed from edit_todo.  Add frame
	containing check buttons for all categories.  Don't force window
	size.
	(struct category_map): New.
	(struct edit_todo: Add category_map.
	(destroy_user_data): Free category_map list.
	(click_delete): Call refresh_items.  Pass only one arg to
	delete_item.
	(click_ok): Free old summary and description if not NULL.  Set new
	summary and description only if not empty.  Use new_item.

	* todo.h: Add copyright header and multiple inclusion guard.
	(struct todo_list): Delete.
	(struct todo_category): New.
	(edit_todo, lists, new_list, del_list, add_new_event, sql_add_item): Delete.
	(categories, items): New declarations.
	(delete_item): Take only one argument.
	(new_category, del_category): New prototypes.
	(configure, categories_menu, refresh_items): Likewise.

2002-07-11  Philip Blundell  <philb@gnu.org>

	* list-ui.c (new_todo_item): Display error if curr_list is NULL.
	(purge_completed): Avoid segfault when no lists defined.
	(configure): Tweak UI.
	(new_list_box): Try to position dialog near pointer.

2002-07-29  Colin Marquardt  <colin@marquardt-home.de>

	* gpe-todo.menu: Give full path to icon. Move to section PIM (to
	conform to http://familiar.handhelds.org/policy/menu.html).

2002-07-13  Philip Blundell  <philb@gnu.org>

	* list-ui.c: Fix warnings.
	* todo-ui.c: Likewise.

	* main.c (main): Remove call to what_init.

2002-07-10  Joseph J. McCarthy  <mccarthy@engrng.pitt.edu>

	* main.c : add "hide" to the my_icons list

	* todo-ui.c (click_delete): erase/close window when delete is clicked

2002-06-23  Joseph J. McCarthy  <mccarthy@engrng.pitt.edu>

	* main.c : Include a global "hide" (to become a "preference" eventually)

	* todo.h : add position integer to todo_item for new sorting
	
	* list-ui.c (top-level): add show/hide menu icon (show_hide_completed
	toggles "hide" global)
	
	* list-ui.c (draw_expose_event): iterate twice so that completed
	events are either not drawn or drawn at bottom (set item->pos for
	clicking)

	* list-ui.c (draw_click_event): Scroll through since items are no
	longer sorted in the same way

2002-06-23  Philip Blundell  <philb@gnu.org>

	* main.c (open_window): Set icon before mapping window so WM
	notices it.

	* Version 0.10 released.

2002-06-22  Philip Blundell  <philb@gnu.org>

	* Version 0.09 released.

2002-06-21  Joseph J. McCarthy  <mccarthy@engrng.pitt.edu>

	* list-ui.c: Push changes to items when clicked from main window.

2002-06-21  Philip Blundell  <pb@debian.org>

	* main.c: Set icon for window manager.

2002-06-21  Philip Blundell  <pb@debian.org>

	* familiar/control (Depends): Require libgpewidget 0.08.

	* Version 0.08 released.

2002-06-20  Philip Blundell  <pb@debian.org>

	* main.c (main): Call what_init.

2002-06-17  Philip Blundell  <pb@debian.org>

	* Makefile: Add dependency tracking and "update-po" rule.
	* po/gpe-todo.pot: Update.

2002-06-17  Philip Blundell  <pb@debian.org>

	* main.c: Convert to new-style pixmap management.
	* list-ui.c: Likewise.  Improve tooltips.
	(ui_create_new_list): Disallow blank title.
	* todo-ui.c (edit_todo): Add picture buttons.

2002-06-16  Philip Blundell  <pb@debian.org>

	* Makefile (gpe-todo): Don't include gdk_imlib in link.
	(CFLAGS): Add gdk-pixbuf flags.
	(ipkg): Expect files in familiar.

	* control, postinst: Moved to ...
	* familiar/control, familiar/postinst: ... here.

	* .cvsignore: New file.
	
