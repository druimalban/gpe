AC_INIT(xdr/xdr.h)
VERSION=0.2.1
PACKAGE=usqld

AC_PROG_CC
AC_CANONICAL_SYSTEM
AM_INIT_AUTOMAKE($PACKAGE,$VERSION)
AM_PROG_LIBTOOL
AM_MAINTAINER_MODE
AC_SUBST(PACKAGE)
AC_SUBST(VERSION)
AC_SUBST(USQLD_DATABASE_DIR)
AC_DEFINE(USQLD_DATABASE_DIR,"/var/usqld/")
AC_DEFINE(PID_FILE,"/var/run/usqld.pid")


AC_ARG_ENABLE(debug,[--enable-debug enables debug code in the source],
		    [AC_MSG_RESULT(using debugging);
		     DBGFLAGS=-g],
		     DBGFLAGS="")
	  
AC_SUBST(DBGFLAGS)
AC_ARG_WITH(sqlite,[ --with-sqlite=prefix prefix for sqlite includes and libs],
			   [AC_MSG_RESULT(using sqlite in ${withval}/lib and ${withval}/include);
			   SQLITEPREFIX=${withval};
			   AC_SUBST(SQLITEPREFIX)])
			   
AC_OUTPUT(Makefile src/Makefile xdr/Makefile xdr/examples/Makefile \
test/Makefile usqldsh/Makefile ipkg/control ipkg/Makefile)